<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <title>Gestione Turni Collaboratori</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- Firebase App (Core) -->
  <script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-app-compat.js"></script>
  <!-- Firebase Authentication -->
  <script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-auth-compat.js"></script>

  <style>
    /* (Qui il tuo CSS normale) */
  </style>
</head>
<body>

<!-- (Qui il tuo login e la gestione turni) -->

<script>
  // Collegamento al tuo progetto Firebase
  const firebaseConfig = {
    apiKey: "AIzaSyCfhZ4n_uFbgtcmMHesx1rswTZaUuhgwcQ",
    authDomain: "gestione-turni-50fc4.firebaseapp.com",
    projectId: "gestione-turni-50fc4",
    storageBucket: "gestione-turni-50fc4.firebasestorage.app",
    messagingSenderId: "1067061975120",
    appId: "1:1067061975120:web:8ccfb053119c3d15329955",
    measurementId: "G-Y19TG637V9"
  };

  // Inizializza Firebase
  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();
</script>

<script>
  // Funzione LOGIN Firebase
  function login() {
    const email = document.getElementById('username').value.trim();
    const password = document.getElementById('password').value.trim();
    const errorMessage = document.getElementById('error-message');

    auth.signInWithEmailAndPassword(email, password)
      .then((userCredential) => {
        // Login riuscito
        const user = userCredential.user;
        document.getElementById('login-form').style.display = 'none';
        document.getElementById('shift-section').style.display = 'block';
        document.getElementById('user-name').innerText = user.email;
        currentUser = user.email.replace('.', '_'); // Se serve usarlo per salvataggi
        loadShifts();
      })
      .catch((error) => {
        errorMessage.innerText = "Credenziali errate. Riprova.";
      });
  }

  // Resto delle funzioni: addShift(), saveShift(), loadShifts() ecc. (Come già fatto)

  let currentUser = "";

  // (Qui metti la gestione turni come abbiamo già costruito prima)

</script>

</body>
</html>
